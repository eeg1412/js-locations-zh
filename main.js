const allCountries = new Set(["Australia","China","Japan","Thailand","India","Malaysia","Korea (the Republic of)","Singapore","Hong Kong","Taiwan (Province of China)","United States of America","Netherlands (Kingdom of the)","Ireland","Germany","Argentina","France","Canada","Sweden","United Kingdom of Great Britain and Northern Ireland","Spain","Czechia","Belgium","Switzerland","Austria","Italy","Greece","Denmark","Portugal","Ghana","Finland","Poland","Romania","Norway","Luxembourg","Bulgaria","Moldova (the Republic of)","Latvia","Lithuania","Croatia","Estonia","Slovakia","Hungary","Malta","Cyprus","Zambia","Slovenia","Isle of Man","Albania","Papua New Guinea","Fiji","Macao","Tunisia","Paraguay","Botswana","Sudan","Gambia","Sierra Leone"]);
const countryProvinces = new Map([["Australia",["Queensland","Victoria","New South Wales","South Australia","Western Australia","Australian Capital Territory","Tasmania","Northern Territory"]],["China",["Fujian","Guangdong","Shanghai","Beijing","Jiangsu","Sichuan","Nei Mongol","Guizhou","Ningxia Huizu","Heilongjiang","Shanxi","Shaanxi","Henan","Anhui","Zhejiang","Hunan","Guangxi Zhuangzu","Chongqing","Hebei","Liaoning","Yunnan","Shandong","Jiangxi","Tianjin","Hubei","Xizang","Gansu","Hainan","Jilin","Xinjiang Uygur","Qinghai"]],["Japan",["Tokyo","Hiroshima","Miyagi","Shimane","Yamaguchi","Tottori","Gifu","Kochi","Kyoto","Chiba","Osaka","Saitama","Fukuoka","Kanagawa","Hokkaido","Aichi","Hyogo","Nagano","Aomori","Shizuoka","Yamanashi","Niigata","Tochigi","Akita","Fukushima","Ibaraki","Yamagata","Gunma","Nagasaki","Wakayama","Fukui","Saga","Nara","Mie","Toyama","Shiga","Iwate","Kagawa","Okinawa","-","Kumamoto","Oita","Miyazaki","Kagoshima","Okayama","Ehime","Tokushima","Ishikawa"]],["Thailand",["Songkhla","Krung Thep Maha Nakhon","Nakhon Pathom","Surat Thani","Nakhon Phanom","Chon Buri","Phangnga","Nakhon Si Thammarat","Chumphon","Krabi","Ranong","Phuket","Trang","Samut Songkhram","Suphan Buri","Phra Nakhon Si Ayutthaya","Satun","Samut Prakan","Kanchanaburi","Lamphun","Mae Hong Son","Sing Buri","Lop Buri","Nan","Chiang Mai","Narathiwat","Surin","Lampang","Sakon Nakhon","Mukdahan","Udon Thani","Bueng Kan","Yala","Nong Bua Lam Phu","Loei","Roi Et","Phrae","Chiang Rai","Nong Khai","Kalasin","Maha Sarakham","Amnat Charoen","Nakhon Ratchasima","Si Sa Ket","Chaiyaphum","Buri Ram","Khon Kaen","Tak","Pattani","Trat","Pathum Thani","Phitsanulok","Saraburi","Kamphaeng Phet","Uthai Thani","Phetchabun","Nakhon Sawan","Phichit","Chai Nat","Nonthaburi","Ubon Ratchathani","Sukhothai","Uttaradit","Chanthaburi","Rayong","Yasothon","Prachuap Khiri Khan","Phetchaburi","Samut Sakhon","Chachoengsao","Sa Kaeo","Prachin Buri","Ratchaburi","Phayao","Ang Thong","Nakhon Nayok","Phatthalung"]],["India",["Tamil Nadu","Karnataka","Maharashtra","Delhi","Assam","West Bengal","Madhya Pradesh","Uttar Pradesh","Jharkhand","Andhra Pradesh","Bihar","Gujarat","Haryana","Telangana","Goa","Uttarakhand","Kerala","Manipur","Tripura","Odisha","Chhattisgarh","Puducherry","Rajasthan","Punjab","Himachal Pradesh","Chandigarh","Jammu and Kashmir","Sikkim","Meghalaya","Arunachal Pradesh","Mizoram","Dadra and Nagar Haveli and Daman and Diu","Andaman and Nicobar Islands","Nagaland","Lakshadweep"]],["Malaysia",["Wilayah Persekutuan Kuala Lumpur","Selangor","Johor","Sarawak","Pulau Pinang","Sabah","Pahang","Kedah","Perak","Negeri Sembilan","Kelantan","Wilayah Persekutuan Putrajaya","Terengganu","Melaka","Perlis","Wilayah Persekutuan Labuan"]],["Korea (the Republic of)",["Seoul-teukbyeolsi","Jeollanam-do","Gyeonggi-do","Chungcheongnam-do","Gwangju-gwangyeoksi","Incheon-gwangyeoksi","Daejeon-gwangyeoksi","Gyeongsangbuk-do","Chungcheongbuk-do","Busan-gwangyeoksi","Gyeongsangnam-do","Daegu-gwangyeoksi","Ulsan-gwangyeoksi","Jeollabuk-do","Gangwon-teukbyeoljachido","Jeju-teukbyeoljachido","Sejong"]],["Singapore",["Singapore"]],["Hong Kong",["Hong Kong"]],["Taiwan (Province of China)",["Taipei","New Taipei","Taoyuan","Hsinchu","Yilan","Keelung","Hualien","Changhua","Nantou","Taichung","Chiayi","Yunlin","Lienchiang","Penghu","Tainan","Kinmen","Kaohsiung","Pingtung","Taitung","Miaoli"]],["United States of America",["California","Washington","Oregon","Virginia","Ohio","Texas","Illinois","Pennsylvania","Massachusetts","Florida","Arizona","Georgia","West Virginia","North Carolina","Wyoming","Utah","New York","Kentucky","New Jersey","Alabama","Delaware","Idaho","South Carolina","Minnesota","Missouri","Colorado","Maryland","Louisiana","District of Columbia","South Dakota","Nebraska","Hawaii","Tennessee","Indiana","Nevada","Oklahoma","Wisconsin","New Hampshire","Connecticut","New Mexico","Michigan","Mississippi","Iowa","Vermont","Rhode Island","Kansas","Montana","Arkansas","North Dakota","Alaska","Maine"]],["Netherlands (Kingdom of the)",["Noord-Holland","Limburg","Zuid-Holland","Flevoland","Gelderland","Overijssel","Noord-Brabant","Drenthe","Utrecht","Groningen","Zeeland"]],["Ireland",["Dublin","Cork","Limerick","Kerry","Roscommon","Westmeath","Longford","Tipperary","Laois","Kildare","Mayo","Louth","Meath","Monaghan","Donegal","Offaly","Waterford","Sligo","Galway","Cavan","Clare","Wexford","Wicklow","Carlow","Kilkenny","Leitrim"]],["Germany",["Hessen","Hamburg","Bayern","Nordrhein-Westfalen","Berlin","Baden-Wurttemberg","Rheinland-Pfalz","Sachsen","Schleswig-Holstein","Brandenburg","Thuringen","Bremen","Saarland","Mecklenburg-Vorpommern","Niedersachsen","Sachsen-Anhalt"]],["Argentina",["La Rioja"]],["France",["Ile-de-France","Provence-Alpes-Cote-d'Azur","Auvergne-Rhone-Alpes","Occitanie","Nouvelle-Aquitaine","Centre-Val de Loire","Hauts-de-France","Grand-Est","Pays-de-la-Loire","Corse","Bretagne","Normandie","Bourgogne-Franche-Comte"]],["Canada",["Quebec","Ontario","British Columbia","Alberta","Nova Scotia","Manitoba","Saskatchewan","New Brunswick","Prince Edward Island","Newfoundland and Labrador","Yukon","Nunavut","Northwest Territories"]],["Sweden",[]],["United Kingdom of Great Britain and Northern Ireland",["England","Wales","Northern Ireland","Scotland"]],["Spain",["Murcia, Region de","Valenciana, Comunidad","Madrid, Comunidad de","Catalunya","Castilla-La Mancha","Andalucia","Canarias","Illes Balears","Galicia","Asturias, Principado de","Castilla y Leon","Navarra, Comunidad Foral de","Pais Vasco","Aragon","La Rioja","Extremadura","Ceuta","Cantabria","Melilla"]],["Czechia",["Karlovarsky kraj","Jihocesky kraj","Kraj Vysocina","Pardubicky kraj","Kralovehradecky kraj","Zlinsky kraj","Jihomoravsky kraj","Stredocesky kraj","Plzensky kraj","Olomoucky kraj","Ustecky kraj","Moravskoslezsky kraj","Liberecky kraj"]],["Belgium",["Vlaams-Brabant","Antwerpen","Limburg","West-Vlaanderen","Oost-Vlaanderen","Luxembourg","Namur","Hainaut","Liege"]],["Switzerland",["Zurich","Zug","Bern","Aargau","Fribourg","Graubunden","Geneve","Vaud","Solothurn","Luzern","Basel-Stadt","Neuchatel","Valais","Basel-Landschaft","Thurgau","Ticino","Schwyz","Appenzell Innerrhoden","Jura","Appenzell Ausserrhoden","Glarus","Schaffhausen","Nidwalden","Uri","Obwalden"]],["Austria",["Wien","Niederosterreich","Karnten","Steiermark","Oberosterreich","Salzburg","Vorarlberg","Burgenland","Tirol"]],["Italy",["Lazio","Lombardia","Sicilia","Piemonte","Liguria","Emilia-Romagna","Veneto","Friuli-Venezia Giulia","Calabria","Trentino-Alto Adige","Toscana","Sardegna","Umbria","Campania","Marche","Abruzzo","Puglia","Molise","Basilicata"]],["Greece",["Attiki","Anatoliki Makedonia kai Thraki","Peloponnisos","Voreio Aigaio","Notio Aigaio","Kriti","Thessalia","Ipeiros","Dytiki Ellada","Kentriki Makedonia","Ionia Nisia","Sterea Ellada","Dytiki Makedonia"]],["Denmark",["Hovedstaden","Midtjylland","Nordjylland","Sjaelland","Syddanmark"]],["Portugal",["Lisboa","Guarda","Viseu","Aveiro","Viana do Castelo","Braganca","Santarem","Vila Real","Castelo Branco","Braga","Porto","Coimbra","Leiria","Portalegre","Evora","Faro","Setubal","Beja","Regiao Autonoma da Madeira","Regiao Autonoma dos Acores"]],["Ghana",["Western","Northern","Central"]],["Finland",["Uusimaa","Pohjanmaa","Varsinais-Suomi","Keski-Suomi","Pohjois-Karjala","Pirkanmaa","Kanta-Hame","Kainuu","Lappi","Etela-Pohjanmaa","Pohjois-Savo","Keski-Pohjanmaa","Etela-Karjala","Satakunta","Kymenlaakso","Paijat-Hame","Pohjois-Pohjanmaa","Etela-Savo"]],["Poland",["Mazowieckie","Malopolskie","Lubelskie","Slaskie","Zachodniopomorskie","Swietokrzyskie","Lodzkie","Podkarpackie","Lubuskie","Dolnoslaskie","Pomorskie","Wielkopolskie","Warminsko-Mazurskie","Opolskie","Kujawsko-Pomorskie","Podlaskie"]],["Romania",["Bucuresti","Arges","Bihor","Ilfov","Olt","Giurgiu","Vrancea","Buzau","Constanta","Sibiu","Alba","Brasov","Vaslui","Mures","Prahova","Iasi","Cluj","Galati","Suceava","Neamt","Mehedinti","Ialomita","Calarasi","Dambovita","Teleorman","Valcea","Bacau","Botosani","Salaj","Dolj","Maramures","Timis","Tulcea","Caras-Severin","Hunedoara","Satu Mare","Harghita","Covasna","Gorj","Arad"]],["Norway",["Oslo","Nordland","Agder","Viken","Trondelag","Vestfold og Telemark","Troms og Finnmark","Innlandet","Rogaland","Vestland","More og Romsdal"]],["Luxembourg",["Esch-sur-Alzette","Luxembourg","Mersch","Grevenmacher","Diekirch","Capellen"]],["Bulgaria",["Sofia (stolitsa)","Blagoevgrad","Shumen","Kardzhali","Sofia","Plovdiv","Pernik","Montana","Stara Zagora","Burgas","Dobrich","Varna","Targovishte","Pleven","Pazardzhik","Kyustendil","Sliven","Smolyan","Haskovo","Veliko Tarnovo","Razgrad","Ruse","Gabrovo","Lovech","Vratsa","Yambol","Silistra","Vidin"]],["Moldova (the Republic of)",["Calarasi"]],["Latvia",["Riga","Daugavpils","Dobeles novads","Livanu novads","Ventspils novads","Liepaja","Kraslavas novads","Cesu novads","Jekabpils novads","Valkas novads","Preilu novads","Aizkraukles novads","Bauskas novads","Talsu novads","Madonas novads","Kuldigas novads","Ludzas novads","Ogres novads","Jurmala","Saldus novads","Tukuma novads","Jelgava","Rezeknes novads","Limbazu novads","Smiltenes novads","Gulbenes novads","Balvu novads","Aluksnes novads"]],["Lithuania",[]],["Croatia",["Grad Zagreb","Istarska zupanija","Primorsko-goranska zupanija","Varazdinska zupanija","Sisacko-moslavacka zupanija","Koprivnicko-krizevacka zupanija","Krapinsko-zagorska zupanija","Zagrebacka zupanija","Karlovacka zupanija","Bjelovarsko-bilogorska zupanija","Sibensko-kninska zupanija","Zadarska zupanija","Dubrovacko-neretvanska zupanija","Splitsko-dalmatinska zupanija","Viroviticko-podravska zupanija","Pozesko-slavonska zupanija","Brodsko-posavska zupanija","Osjecko-baranjska zupanija","Vukovarsko-srijemska zupanija","Licko-senjska zupanija","Medimurska zupanija"]],["Estonia",["Harjumaa","Ida-Virumaa","Tartumaa","Laanemaa","Jogevamaa","Saaremaa","Parnumaa","Laane-Virumaa","Valgamaa","Jarvamaa","Viljandimaa","Vorumaa","Raplamaa","Polvamaa"]],["Slovakia",["Bratislavsky kraj","Nitriansky kraj","Presovsky kraj","Trenciansky kraj","Trnavsky kraj","Kosicky kraj","Zilinsky kraj","Banskobystricky kraj"]],["Hungary",["Szabolcs-Szatmar-Bereg","Bacs-Kiskun","Budapest","Nograd","Jasz-Nagykun-Szolnok","Pest","Hajdu-Bihar","Zala","Baranya","Fejer","Bekes","Somogy","Komarom-Esztergom","Gyor-Moson-Sopron","Vas","Veszprem","Borsod-Abauj-Zemplen","Heves","Tolna"]],["Malta",["Birkirkara","Valletta","Sliema","Marsaskala","Tarxien","Qormi","Fgura","Mosta","Naxxar","Zejtun","Gzira","Hamrun","Siggiewi","Swieqi","Zabbar","Paola"]],["Cyprus",["Lefkosia","Larnaka","Pafos","Ammochostos","Lemesos"]],["Zambia",["Central","Western","Southern","Northern"]],["Slovenia",["Velenje","Maribor","Ljubljana","Domzale","Koper","Skofja Loka","Murska Sobota","Celje","Trbovlje","Slovenj Gradec","Krsko","Izola","Kranj","Novo Mesto","Nova Gorica","Postojna","Jesenice","Ptuj","Kamnik","Ruse","Ravne na Koroskem"]],["Isle of Man",["Isle of Man"]],["Albania",["Tirane","Elbasan","Kukes","Fier","Shkoder","Berat","Vlore","Durres","Lezhe","Diber","Korce","Gjirokaster"]],["Papua New Guinea",["Central","Western"]],["Fiji",["Central","Western"]],["Macao",["Macao"]],["Tunisia",["Beja"]],["Paraguay",["Central"]],["Botswana",["Southern","Central"]],["Sudan",["Northern"]],["Gambia",["Western"]],["Sierra Leone",["Southern","Northern"]]]);
const countryTranslations = new Map([["Australia","澳大利亚"],["China","中国"],["Japan","日本"],["Thailand","泰国"],["India","印度"],["Malaysia","马来西亚"],["Korea (the Republic of)","韩国"],["Singapore","新加坡"],["Hong Kong","香港特别行政区"],["Taiwan (Province of China)","台湾省"],["United States of America","美国"],["Netherlands (Kingdom of the)","荷兰"],["Ireland","爱尔兰"],["Germany","德国"],["Argentina",""],["France","法国"],["Canada","加拿大"],["Sweden","瑞典"],["United Kingdom of Great Britain and Northern Ireland","英国"],["Spain","西班牙"],["Czechia","捷克"],["Belgium","比利时"],["Switzerland","瑞士"],["Austria","奥地利"],["Italy","意大利"],["Greece","希腊"],["Denmark","丹麦"],["Portugal","葡萄牙"],["Ghana",""],["Finland","芬兰"],["Poland","波兰"],["Romania","罗马尼亚"],["Norway","挪威"],["Luxembourg","卢森堡"],["Bulgaria","保加利亚"],["Moldova (the Republic of)",""],["Latvia","拉脱维亚"],["Lithuania","立陶宛"],["Croatia","克罗地亚"],["Estonia","爱沙尼亚"],["Slovakia","斯洛伐克"],["Hungary","匈牙利"],["Malta","马耳他"],["Cyprus","塞浦路斯"],["Zambia",""],["Slovenia","斯洛文尼亚"],["Isle of Man","马恩岛"],["Albania","阿尔巴尼亚"],["Papua New Guinea",""],["Fiji",""],["Macao","澳门特别行政区"],["Tunisia",""],["Paraguay",""],["Botswana",""],["Sudan",""],["Gambia",""],["Sierra Leone",""]]);

export function getCountryData(country) {
  if (!allCountries.has(country)) {
    throw new Error(`Country '${country}' not found in translations`);
  }
  const sanitized = country.replace(/[^a-zA-Z0-9]/g, '_');
  const provinces = countryProvinces.get(country);
  const promises = provinces.map(province => {
    const sanitizedProv = province.replace(/[^a-zA-Z0-9]/g, '_');
    return import(`./countries/${sanitized}/${sanitizedProv}.js`).then(module => [province, module.default]);
  });
  return Promise.all(promises).then(entries => {
    const countryMap = new Map();
    countryMap.set('translation', countryTranslations.get(country));
    entries.forEach(([prov, provMap]) => countryMap.set(prov, provMap));
    return { default: countryMap };
  });
}

export function getProvinceData(country, province) {
  if (!allCountries.has(country)) {
    throw new Error(`Country '${country}' not found in translations`);
  }
  const provinces = countryProvinces.get(country);
  if (!provinces.includes(province)) {
    throw new Error(`Province '${province}' not found in country '${country}'`);
  }
  const sanitized = country.replace(/[^a-zA-Z0-9]/g, '_');
  const sanitizedProv = province.replace(/[^a-zA-Z0-9]/g, '_');
  return import(`./countries/${sanitized}/${sanitizedProv}.js`);
}

export function getAllCountries() {
  return Array.from(allCountries);
}

export function getAllProvinces(country) {
  if (!allCountries.has(country)) {
    throw new Error(`Country '${country}' not found in translations`);
  }
  return Array.from(countryProvinces.get(country));
}
